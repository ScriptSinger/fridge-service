{
  "project": "fridge-service",
  "generated_at": "2026-02-28",
  "source_of_truth": {
    "routes": ["routes/web.php", "routes/api.php"],
    "controllers": [
      "app/Http/Controllers/HomeController.php",
      "app/Http/Controllers/PriceController.php",
      "app/Http/Controllers/ContactController.php",
      "app/Http/Controllers/AboutController.php",
      "app/Http/Controllers/ReviewController.php",
      "app/Http/Controllers/DeviceController.php",
      "app/Http/Controllers/DeviceBrandController.php",
      "app/Http/Controllers/PageController.php"
    ],
    "views": "resources/views/pages/*.blade.php"
  },
  "pages": [
    {
      "key": "home",
      "route": "/",
      "status": "current",
      "controller": "HomeController@index",
      "view": "pages.home",
      "model": "PageType(key=home)->page",
      "meta_fields": ["page.title", "page.description"],
      "sections": [
        { "name": "breadcrumbs", "component": "x-ui.breadcrumbs", "data": ["route=home"] },
        { "name": "hero", "component": "x-sections.hero", "data": ["page.*"] },
        { "name": "devices", "component": "x-sections.home.devices", "data": ["Device.*"] },
        { "name": "benefits", "component": "x-sections.common.benefits", "data": [] },
        { "name": "steps", "component": "x-sections.common.steps", "data": [] },
        { "name": "gallery", "component": "x-sections.common.gallery", "data": ["Gallery.*"] },
        { "name": "reviews_slider", "component": "x-sections.common.reviews", "data": ["Review.*", "Review.device", "Review.brand", "Review.service"] },
        { "name": "faq", "component": "x-sections.common.faq", "data": ["Faq.*"] },
        { "name": "contact", "component": "x-sections.contact", "data": ["page.*"] }
      ]
    },
    {
      "key": "prices",
      "route": "/prices",
      "status": "current",
      "controller": "PriceController@index",
      "view": "pages.prices",
      "model": "PageType(key=prices)->page + Device->services->prices",
      "meta_fields": ["static.title", "static.description"],
      "sections": [
        { "name": "breadcrumbs", "component": "x-ui.breadcrumbs", "data": ["route=prices.index"] },
        { "name": "hero", "component": "x-sections.hero", "data": ["static.h1", "static.subtitle"] },
        { "name": "prices_index", "component": "x-sections.prices.index", "data": ["Device.*", "Service.*", "Price.*"] },
        { "name": "benefits", "component": "x-sections.common.benefits", "data": ["Device.*"] },
        { "name": "contact", "component": "x-sections.contact", "data": ["page.*"] }
      ]
    },
    {
      "key": "contacts",
      "route": "/contacts",
      "status": "current",
      "controller": "ContactController@index",
      "view": "pages.contacts",
      "model": "PageType(key=contacts)->page",
      "meta_fields": ["page.title", "page.description"],
      "sections": [
        { "name": "breadcrumbs", "component": "x-ui.breadcrumbs", "data": ["route=contacts.index"] },
        { "name": "hero", "component": "x-sections.hero", "data": ["page.h1", "page.subtitle"] },
        { "name": "contacts_info", "component": "x-sections.contacts.info", "data": ["config.contacts.*"] },
        { "name": "faq", "component": "x-sections.common.faq", "data": ["Faq.*"] },
        { "name": "contact", "component": "x-sections.contact", "data": ["page.*"] }
      ]
    },
    {
      "key": "about",
      "route": "/about",
      "status": "current",
      "controller": "AboutController@index",
      "view": "pages.about",
      "model": "PageType(key=about)->page",
      "meta_fields": ["page.title", "page.description"],
      "sections": [
        { "name": "breadcrumbs", "component": "x-ui.breadcrumbs", "data": ["route=about.index"] },
        { "name": "hero", "component": "x-sections.hero", "data": ["page.h1", "page.subtitle"] },
        { "name": "statistic", "component": "x-sections.about.statistic", "data": [] },
        { "name": "history", "component": "x-sections.about.history", "data": [] },
        { "name": "gallery", "component": "x-sections.common.gallery", "data": ["Gallery.*"] },
        { "name": "faq", "component": "x-sections.common.faq", "data": ["Faq.*"] },
        { "name": "contact", "component": "x-sections.contact", "data": ["page.*"] }
      ]
    },
    {
      "key": "reviews",
      "route": "/reviews",
      "status": "current",
      "controller": "ReviewController@index",
      "view": "pages.reviews",
      "model": "Review",
      "meta_fields": ["static.title=Отзывы клиентов", "static.description=Отзывы о ремонте бытовой техники в Уфе"],
      "query_params": {
        "sort": ["newest", "oldest", "positive", "negative"],
        "with_photo": "boolean (client-side state support)",
        "source": "string (client-side state support)"
      },
      "sections": [
        { "name": "breadcrumbs", "component": "x-ui.breadcrumbs", "data": ["route=reviews.index"] },
        { "name": "hero", "component": "x-sections.hero", "data": ["static.h1", "static.subtitle"] },
        { "name": "reviews_index", "component": "x-sections.reviews.index", "data": ["Review.*", "Review.device", "Review.brand", "Review.service"] },
        { "name": "contact", "component": "x-sections.contact", "data": [] }
      ]
    },
    {
      "key": "device",
      "route": "/{device:slug}",
      "status": "current",
      "controller": "DeviceController@show",
      "view": "pages.device",
      "model": "Device",
      "meta_fields": ["device.title", "device.description"],
      "sections": [
        { "name": "breadcrumbs", "component": "x-ui.breadcrumbs", "data": ["route=devices.show", "device.*"] },
        { "name": "hero", "component": "x-sections.hero", "data": ["device.*"] },
        { "name": "brand_select", "component": "x-sections.brands.brand-select", "data": ["Brand.*"] },
        { "name": "problems", "component": "x-sections.common.problems", "data": ["Problem.*"] },
        { "name": "gallery", "component": "x-sections.common.gallery", "data": ["Gallery.*"] },
        { "name": "services", "component": "x-sections.common.services.index", "data": ["Service.*"] },
        { "name": "faq", "component": "x-sections.common.faq", "data": ["Faq.*"] },
        { "name": "contact", "component": "x-sections.contact", "data": ["device.*"] },
        { "name": "brand_carousel", "component": "x-sections.brands.brand-carousel", "data": ["Brand.*"] }
      ]
    },
    {
      "key": "brand",
      "route": "/{device:slug}/{brand:slug}",
      "status": "current",
      "controller": "DeviceBrandController@show",
      "view": "pages.brand",
      "model": "Device + Brand (pivot)",
      "meta_fields": ["device.title", "device.description"],
      "sections": [
        { "name": "breadcrumbs", "component": "x-ui.breadcrumbs", "data": ["route=devices.brands.show", "brand.*"] },
        { "name": "hero", "component": "x-sections.hero", "data": ["brand.pivot.h1", "brand.pivot.subtitle"] },
        { "name": "brand_problems", "component": "x-sections.brands.problems", "data": ["Problem.*"] },
        { "name": "gallery", "component": "x-sections.common.gallery", "data": ["Gallery.*"] },
        { "name": "services", "component": "x-sections.common.services.index", "data": ["Service.*"] },
        { "name": "faq", "component": "x-sections.common.faq", "data": ["Faq.*"] },
        { "name": "contact", "component": "x-sections.contact", "data": ["brand.*"] }
      ]
    },
    {
      "key": "gallery",
      "route": "/gallery",
      "status": "current",
      "controller": "GalleryController@index",
      "view": "pages.gallery",
      "model": "Gallery",
      "meta_fields": ["static.title=Галерея работ", "static.description=Фото до и после ремонта бытовой техники"],
      "sections": [
        { "name": "breadcrumbs", "component": "x-ui.breadcrumbs", "data": ["route=gallery.index"] },
        { "name": "hero", "component": "x-sections.hero", "data": ["static.h1", "static.subtitle"] },
        { "name": "gallery_index", "component": "x-sections.gallery.index", "data": ["Gallery.image_url", "Gallery.image_alt", "Gallery.title", "Gallery.subtitle", "Gallery.description", "Gallery.device", "Gallery.brand", "Gallery.service", "Gallery.created_at"] },
        { "name": "filters", "component": "x-ui.buttons.filter + galleryIndexSort", "data": ["sort=newest|oldest"] },
        { "name": "contact", "component": "x-sections.contact", "data": [] }
      ]
    },
    {
      "key": "legal_privacy_policy",
      "route": "/privacy-policy",
      "status": "current",
      "controller": "PageController@showLegal(type=privacy-policy)",
      "view": "pages.legal",
      "model": "PageType(key=privacy-policy)->page",
      "meta_fields": ["page.title", "page.description"],
      "sections": [
        { "name": "breadcrumbs", "component": "x-ui.breadcrumbs", "data": ["route=legal.privacy-policy"] },
        { "name": "legal_content", "component": "inline section in pages.legal", "data": ["page.h1", "page.subtitle", "page.content", "page.updated_at"] }
      ]
    },
    {
      "key": "legal_personal_data_consent",
      "route": "/personal-data-consent",
      "status": "current",
      "controller": "PageController@showLegal(type=personal-data-consent)",
      "view": "pages.legal",
      "model": "PageType(key=personal-data-consent)->page",
      "meta_fields": ["page.title", "page.description"],
      "sections": [
        { "name": "breadcrumbs", "component": "x-ui.breadcrumbs", "data": ["route=legal.personal-data-consent"] },
        { "name": "legal_content", "component": "inline section in pages.legal", "data": ["page.h1", "page.subtitle", "page.content", "page.updated_at"] }
      ]
    }
  ],
  "api_endpoints": [
    {
      "method": "POST",
      "route": "/api/leads",
      "controller": "Api\\LeadController@store",
      "seo": "not_indexable"
    }
  ],
  "notes": [
    "Previous recommended/placeholder pages were removed from this file because they are not present in current routes.",
    "For /reviews, sort is server-side; with_photo and source are currently applied client-side in Alpine component resources/js/components/reviewsIndexSort.js."
  ]
}
